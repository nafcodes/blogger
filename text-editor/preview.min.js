/*!
 * ==========================================================
 *  PREVIEW PANEL PLUGIN FOR USER INTERFACE MODULE 1.0.0
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
TE.each(function(e){function v(i){if(r.parent(t.el.panel))t.panel.exit(1);else{var s=c[f+"_css"]||[],o=c[f+"_js"]||[],a="",u="";n(s)&&(s=[s]),n(o)&&(o=[o]);for(m in s)s[m]&&(a+='<link href="'+s[m]+'" rel="stylesheet">');for(m in o)o[m]&&(u+='<script src="'+o[m]+'"></script>');t.panel(f,{header:"",body:'<iframe frameborder="0" style="display:block;width:100%;height:100%;margin:0;padding:0;border:0;position:absolute;top:0;right:0;bottom:0;left:0;" src="data:text/html,'+encodeURIComponent('<!DOCTYPE html><html dir="'+c.direction+'"><head><meta charset="utf-8">'+a+"</head><body>"+e.get()+u+"</body></html>")+'"></iframe>'},0,f),g="children",m=t.el.panel[g][1],m[g][0][g][0].style.height=r.size(m).h+"px"}return e.select(),l.x(i),!1}var m,g,b,t=e.ui,i=e._,n=e.is.s,r=i.dom,s=r.append,o=r.get,l=i.events,a=i.extend,f="preview",c=e.config,u=c.classes[""],d=c.languages.tools,p=o("."+("ltr"===c.direction?"left":"right"),t.el.footer)[0],h=i.el("span","",{"class":u+"-preview"});d=a({preview:["Preview","‚å•+F8"]},d),g=d[f]||[""],b=i.el("a",g[0],{"class":u+"-a",title:g[0]+(g[1]?" ("+g[1]+")":"")}),s(p,h),s(h,b),l.set("click",b,v),t.key("alternate+f8",v)});