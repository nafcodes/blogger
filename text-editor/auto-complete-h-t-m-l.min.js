/*!
 * ===========================================================
 *  HTML AUTO-COMPLETE PLUGIN FOR USER INTERFACE MODULE 1.2.0
 * ===========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * -----------------------------------------------------------
 */
TE.each(function(e){function S(e){return e=e.match(/(?:^|\n)([\t ]*).*$/),e&&e[1]||""}var p,L,T,t=e.config,n=t.union[1][0],a=t.union[1][1],i=t.union[0][0],o=t.union[0][1],s=e._,r=s.events,c=s.pattern,u=s.timer.set,l=t.suffix,h=i[0]+"([^\\s"+i[0]+i[1]+i[2]+"]+)(?:"+o[3]+".*?)?"+i[1],A=i[0]+i[2]+"[^\\s"+i[0]+i[1]+i[2]+"]+"+i[1],E=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)$/,f=c(h+"$"),d=c("^"+A),O="insertBefore",I="insertAfter",g="replaceBefore",R="replaceAfter";t.auto_close_html&&r.set("keydown",e.target,function(s){e[0](),p=s.TE.key,u(function(){L=e.$();var s=L.before,r=L.after;p("enter")?c(h+"\\n[\\t ]*$").test(s)&&d.test(r)?e[O](t.tab)[I]("\n"+S(s)):c(i[0]+"!\\-\\-\\s+$").test(s)&&c("^\\s+\\-\\-"+i[1]).test(r)&&e[g](/\s+$/g,"\n\n")[R](/^\s+/g,"\n\n"):c(i[0]+"![-d]$","i").test(s)?p("-")?e[O]("- ")[I](" --"):p("d")&&e[g](/d$/i,"DOCTYPE html"):p(n[1])&&!d.test(r)&&s.slice(-2)!==n[1]+n[1]?(T=s.match(f)||["",""],E.test(T[1])?e[g](c(i[1]+"$"),l):e[R](/^/,n[0]+n[2]+T[1]+n[1])):p(a[3])&&(T=s.match(c(h.slice(0,h.length-i[1].length)+"$"))||["",""],"a"===T[1]?e[O]("href"+a[0]+a[1])[I](a[1]+n[1]+n[0]+n[2]+T[1]):"img"===T[1]?e[O]("alt"+a[0]+a[1]+a[2]+a[3]+"src"+a[0]+a[1])[I](a[2])[R](c("^"+o[2]+i[1]),a[2]+l):"input"===T[1]?e[O]("type"+a[0]+a[1])[I](a[2])[R](c("^"+o[2]+i[1]),a[2]+l):E.test(T[1])||e[R](c("^"+i[1]),n[1]+n[0]+n[2]+T[1]+n[1])),e[1]()})})});